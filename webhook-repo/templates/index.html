<!DOCTYPE html>
<html>
<head>
    <title>GitHub Events</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f3f3f3;
            padding: 20px;
        }
        h1 {
            color: #333;
        }
        ul {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            list-style: none;
        }
        li {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ccc;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>GitHub Events</h1>
    <ul id="eventList"></ul>

    <script>
        async function fetchEvents() {
            try {
                const res = await fetch('/api/events');
                const data = await res.json();
                const list = document.getElementById('eventList');
                list.innerHTML = '';

                data.forEach(event => {
                    const li = document.createElement('li');
                    li.textContent = ${event.author} ${event.action} to ${event.to_branch} on ${event.timestamp};
                    list.appendChild(li);
                });
            } catch (err) {
                console.error("Error fetching events:", err);
            }
        }

        fetchEvents(); // load immediately
        setInterval(fetchEvents, 15000); // refresh every 15 sec
    </script>
</body>
</html>